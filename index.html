<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para Ti</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: radial-gradient(circle at top, #2b123f, #09000f);
  overflow: hidden;
  height: 100%;
  font-family: 'Segoe UI', sans-serif;
}

canvas {
  display: block;
}

/* TEXTO */
.overlay {
  position: absolute;
  width: 100%;
  text-align: center;
  color: #f5c7d8;
  pointer-events: none;
}

.nombres {
  top: 40px;
  font-size: 26px;
  letter-spacing: 1px;
}

.fecha {
  top: 80px;
  font-size: 14px;
  opacity: 0.8;
}

.contador {
  top: 105px;
  font-size: 16px;
}

/* BOT√ìN M√öSICA */
.boton {
  position: absolute;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(255,255,255,0.15);
  color: #fff;
  border: 1px solid rgba(255,255,255,0.3);
  padding: 10px 20px;
  border-radius: 30px;
  cursor: pointer;
  font-size: 14px;
  pointer-events: auto;
}
</style>
</head>

<body>

<canvas id="canvas"></canvas>

<div class="overlay nombres">Ana & Luis</div>
<div class="overlay fecha">Desde el 14 de Febrero de 2022</div>
<div class="overlay contador" id="contador"></div>

<button class="boton" onclick="playMusic()">üéµ Reproducir m√∫sica</button>
<audio id="audio" src="musica.mp3"></audio>

<script>
/* CANVAS */
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

/* üå∏ SAKURA */
class Sakura {
  constructor() {
    this.x = Math.random() * canvas.width;
    this.y = -20;
    this.size = Math.random() * 4 + 2;
    this.speed = Math.random() * 0.8 + 0.4;
    this.swing = Math.random() * 2;
    this.angle = Math.random() * Math.PI;
  }
  draw() {
    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.rotate(this.angle);
    ctx.fillStyle = "rgba(255,183,197,0.75)";
    ctx.beginPath();
    ctx.moveTo(0, 0);
    ctx.bezierCurveTo(6, -6, 10, 4, 0, 10);
    ctx.bezierCurveTo(-10, 4, -6, -6, 0, 0);
    ctx.fill();
    ctx.restore();
  }
  update() {
    this.y += this.speed;
    this.x += Math.sin(this.y / 40) * this.swing * 0.25;
    this.angle += 0.01;
  }
}

let sakuras = Array.from({length: 45}, () => new Sakura());

/* üå≥ √ÅRBOL CORAZ√ìN */
function drawTree() {
  ctx.save();
  ctx.translate(canvas.width / 2, canvas.height - 110);

  ctx.strokeStyle = "#3b1b52";
  ctx.lineWidth = 4;
  ctx.beginPath();
  ctx.moveTo(0, 0);
  ctx.lineTo(0, -160);
  ctx.stroke();

  ctx.fillStyle = "#5a2b82";
  ctx.beginPath();
  ctx.moveTo(0, -160);
  ctx.bezierCurveTo(-90, -220, -90, -320, 0, -280);
  ctx.bezierCurveTo(90, -320, 90, -220, 0, -160);
  ctx.fill();
  ctx.restore();
}

/* üé¨ ANIMACI√ìN */
function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  sakuras.forEach((s, i) => {
    s.draw();
    s.update();
    if (s.y > canvas.height) sakuras[i] = new Sakura();
  });

  drawTree();
  requestAnimationFrame(animate);
}
animate();

/* ‚è± CONTADOR */
const inicio = new Date("2022-02-14");
function actualizarContador() {
  const ahora = new Date();
  const diff = ahora - inicio;

  const dias = Math.floor(diff / (1000 * 60 * 60 * 24));
  document.getElementById("contador").innerText =
    `${dias} d√≠as compartiendo este amor`;
}
actualizarContador();
setInterval(actualizarContador, 60000);

/* üéµ M√öSICA */
function playMusic() {
  document.getElementById("audio").play();
}
</script>

</body>
</html>
